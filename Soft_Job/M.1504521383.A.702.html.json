{
    "author": "qrtt1 (\u6709\u4e9b\u4e8b\uff0c\u6709\u6642\u5019\u3002\u3002\u3002)", 
    "board": "Soft_Job", 
    "content": [
        "\n", 
        "\u203b \u5f15\u8ff0\u300aqazsd (\u73cd\u60dc\u7576\u4e0b)\u300b\u4e4b\u9298\u8a00\uff1a\n", 
        ">> : \u85c9\u52a9\u4e00\u4e0b\u8edf\u9ad4\u7248\u5ee3\u5927\u7684\u4eba\u6c23\uff0c\u8acb\u554f\u677f\u4e0a\u524d\u8f29\u5011\n", 
        ">> : \u5c0f\u5f1f\u6709Maven\u5c08\u6848\u8cc7\u6599\u593e\u7d50\u69cb\u5982\u4e0b:\n", 
        ">> : Project\n", 
        ">> :   \u251csrc/main/java\n", 
        ">> :   \u2502      \u2514 com.abc.xyz\n", 
        ">> :   \u2502              \u2514Auth.java\n", 
        ">> :   \u2514src/main/resources\n", 
        ">> :           \u2514certs\n", 
        ">> :               \u2514credential.p12\n", 
        ">> : Auth.java\u88e1\u6709\u6bb5\u7a0b\u5f0f\u78bc\u7528\u4f86\u9a57\u8b49\uff1a\n", 
        ">> : =====================================================================\n", 
        ">> : File file = new File(classLoader.getResource(\"cert.p12\").getFile());\n", 
        ">> : String filePath = file.getAbsolutePath();\n", 
        ">> : GoogleCredential credential = new GoogleCredential.Builder()\n", 
        ">> :      .setTransport(httpTransport)\n", 
        ">> :      .setJsonFactory(JSON_FACTORY)\n", 
        ">> :      .setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\n", 
        ">> :      .setServiceAccountScopes(Collections.singleton(\n", 
        ">> :                       CalendarScopes.CALENDAR_READONLY))\n", 
        ">> :      .setServiceAccountPrivateKeyFromP12File(new File(filePath))\n", 
        ">> :      .setServiceAccountUser(SERVICE_ACCOUNT_USER)\n", 
        ">> :      .build();\n", 
        ">> : =====================================================================\n", 
        ">> : \u5c07\u8a72\u5c08\u6848\u6a94\u7684jar\u90e8\u7f72\u5230Server\u4e0a\u5f8c\n", 
        ">> : \u6703\u51fa\u73fe\u627e\u4e0d\u5230credential\u6a94\u6848\u7684\u932f\u8aa4\u8a0a\u606f\n", 
        ">> : \u60f3\u8acb\u554fcredential\u6a94\u6848\u61c9\u8a72\u653e\u5728\u5c08\u6848\u6216server\u54ea\u88e1\u624d\u80fd\u88ab\u627e\u5230\uff1f\n", 
        ">> : \u53c8\u8a72\u600e\u9ebc\u6307\u5b9a\u8def\u5f91\u5462\uff1f\n", 
        "\n    \u4f60\u7121\u6cd5\u76f4\u63a5\u5b58\u53d6\u5305\u5728 zip \u5167\u7684\u6a94\u6848\uff0cFile \u7269\u4ef6\u4e0d\u662f\u9019\u6a23\u7d66\u4f60\u7528\u7684\u3002\n\n    \u6709 2 \u500b\u9078\u64c7\uff0c1 \u500b\u662f\u628a\u5b83\u89e3\u958b\u4f86\uff0c\u5b58\u6210\u6a94\u6848\uff0c\u53e6\u4e00\u500b\u662f\u8f49\u6210 private key\uff0c\n\n\n    \u518d\u547c\u53eb\u53e6 method\n\n    ", 
        "\n\n    public GoogleCredential.Builder\n        setServiceAccountPrivateKey", 
        "\n\n-----------------------------------------------------------------------------\n\n    \u90a3\u9ebc\uff0c\u53ef\u4ee5\u5beb\u6210\u9019\u6a23\u7684 method\uff0c\u76f4\u63a5\u7531 classloader \u628a resource \u6293\u51fa\u4f86\uff0c\n    \u8f49\u6210 PrivateKey \u7d66\u5b83\u5403\uff1a\n\n    public static PrivateKey loadKeyFromPkcs12() throws Exception {\n        char[] password = \"notasecret\".toCharArray();\n        try (InputStream input = Auth.class.getResourceAsStream(\n                \"/certs/credential.p12\")) {\n            KeyStore ks = KeyStore.getInstance(\"PKCS12\");\n            ks.load(input, password);\n            return (PrivateKey) ks.getKey(\"privatekey\", password);\n        }\n    }\n\n--\n", 
        "\u203b \u767c\u4fe1\u7ad9: \u6279\u8e22\u8e22\u5be6\u696d\u574a(ptt.cc), \u4f86\u81ea: 211.21.157.223\n", 
        "\u203b \u6587\u7ae0\u7db2\u5740: \n", 
        "\u203b \u7de8\u8f2f: qrtt1 (211.21.157.223), 09/04/2017 18:36:52\n", 
        "\u63a8 lovelycateye: \u6709\u795e\u5feb\u62dc! 09/04 19:00\n", 
        "\u5653 pttuser: \u9019\u4e0d\u904e\u662freflection\u61c9\u7528\uff0c\u9084\u795e\u54a7\u7b11\u6b7b\u72fc\uff0c\u4e00\u5806\u83dc\u903c\u5df4 09/04 20:15\n", 
        "\u63a8 senjor: \u4f5b\u5fc3\u9084\u4e0d\u795e\u55ce\uff1f 09/04 20:19\n", 
        "\u63a8 qazsd: \u5148\u611f\u8b1dqrtt1\u5927\u5927!! 09/04 21:04\n", 
        "\u63a8 vi000246: \u4f5b\u5fc3\u63a8 09/04 21:16\n", 
        "\u2192 femlro: \u7e3d\u6bd4\u53ea\u6703\u9178\u7684\u5f37^^ 09/04 22:30\n", 
        "\u2192 femlro:             \u795e 09/04 22:30\n", 
        "\u2192 jj0321:           \u8d85\u795e 09/04 22:31\n", 
        "\u63a8 femlro: \u672c\u677f\u6703\u5206\u4eab\u6703\u5e6b\u52a9\u5225\u4eba\u7684 \u5c31\u662f\u795e\u4e00\u822c\u7684\u5b58\u5728 09/04 22:33\n", 
        "\u2192 femlro: \u795e\u6c38\u9060\u4e0d\u5acc\u591a \u9178\u9178\u4e00\u500b\u90fd\u5acc\u592a\u591a 09/04 22:34\n", 
        "\u63a8 jj0321: \u771f\u7684QQ \u6bcf\u6b21\u6709\u4f4dJSON\u5927\u5927\u767c\u6559\u5b78\u6587 \u90fd\u6703\u88ab\u7279\u5b9a\u9178\u7d66\u9178 09/04 22:35\n", 
        "\u63a8 home2618: \u63a82\u6a13 09/04 23:46\n", 
        "\u2192 pttworld: \u628a\u4e3b\u7ba1\u6367\u6210\u795e\u6bd4\u8f03\u5be6\u969b\uff0c\u5f88\u591a\u4eba\u7576\u9762\u537b\u958b\u4e0d\u4e86\u53e3 09/05 00:07\n", 
        "\u63a8 wildli0422: \u63a8\u6709\u5fc3 09/05 09:29\n", 
        "\u63a8 maxqq: haha \u2192 femlro: \u795e\u6c38\u9060\u4e0d\u5acc\u591a \u9178\u9178\u4e00\u500b\u90fd\u5acc\u592a\u591a 09/05 10:29\n", 
        "\u63a8 mathrew: \u5206\u4eab\u662f\u597d\u4e8b  \u4e0d\u9700\u8981\u9178 09/06 07:24\n", 
        "\u63a8 c85645: \u63a8\u4e00\u500b 09/06 19:38\n", 
        "\u63a8 chifangjang: \u63a8 09/07 08:18\n"
    ], 
    "publish_datetime": "Mon Sep  4 18:36:19 2017", 
    "title": "Re: [\u8acb\u76ca] \u90e8\u7f72\u5230server\u5f8c\u627e\u4e0d\u5230\u6a94\u6848", 
    "url": "https://www.ptt.cc/bbs/Soft_Job/M.1504521383.A.702.html"
}